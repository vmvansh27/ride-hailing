<div class="profile-container" *ngIf="user; else noUser">
  <mat-card class="profile-card">
    <div class="profile-header">
      <mat-icon class="avatar">account_circle</mat-icon>
      <h2>{{ user.full_name }}</h2>
      <span class="role">{{ user.role | titlecase }}</span>
    </div>

    <div class="profile-info">
      <p><mat-icon>email</mat-icon> {{ user.email }}</p>
      <p><mat-icon>phone</mat-icon> {{ user.phone }}</p>
    </div>

    <!-- Rider UI -->
    <div *ngIf="user.role === 'rider'" class="actions">
      <button mat-raised-button color="primary" routerLink="/ride/request">
        <mat-icon>directions_car</mat-icon>
        Book a Ride
      </button>

      <button mat-stroked-button color="accent" routerLink="/my-rides">
        <mat-icon>history</mat-icon>
        My Rides
      </button>
    </div>

    <!-- Driver UI -->
    <div *ngIf="user.role === 'driver'" class="actions">
      <button mat-raised-button color="primary" routerLink="/ride/list">
        <mat-icon>list</mat-icon>
        View Requests
      </button>

      <button mat-stroked-button color="accent" routerLink="/ride/current">
        <mat-icon>navigation</mat-icon>
        Current Ride
      </button>
    </div>
  </mat-card>
</div>

<ng-template #noUser>
  <div class="no-user">
    <mat-icon>lock</mat-icon>
    <p>Please login to view your profile.</p>
    <button mat-raised-button color="primary" routerLink="/login">Login</button>
  </div>
</ng-template>
